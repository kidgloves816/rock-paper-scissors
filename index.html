<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>

<script>

    function computerPlay() {
        const choices = ['rock', 'paper', 'scissors'];
        let randomArrayPlace = Math.floor((Math.random() * choices.length));
        return choices[randomArrayPlace];
    }

    function singleRound(computerSelection, userSelection) {
        let resultText;
        let result; //value of 0 is a tie, value of 1 is user win, and value of 2 is computer win

        
        computerSelection = computerPlay();
        

        userSelection = prompt('Rock, Paper, or Scissors (not case-sensitive)').toLowerCase();

        if (userSelection === 'rock') {
            if (computerSelection === 'rock') {
                resultText = 'It\'s a tie';
                result = 0
            }

            else if (computerSelection === 'paper') {
                resultText = 'It\'s a loss';
                result = 2;
            }

            else {
                resultText = "You win!";
                result = 1
            }
            console.log(resultText);
            console.log('computer selected ' + computerSelection);
            
        }

        else if (userSelection === 'paper') {
            if (computerSelection === 'rock') {
                resultText = 'You win!';
                result = 1;
            }

            else if (computerSelection === 'paper') {
                resultText = 'It\'s a tie';
                result = 0;
            }

            else {
                resultText = 'You lose';
                result = 2;
            }
            console.log(resultText);
            console.log('computer selected ' + computerSelection);
        }

        else {                         //scissors case
            if (computerSelection === 'paper') {
                resultText = 'You win';
                result = 1;
            }

            else if (computerSelection === 'scissors') {
                resultText = 'It\'s a tie';
                result = 0;
            }

            else {
                resultText = 'You lose';
                result = 2;
            }

            console.log(resultText);
            console.log('computer selected ' + computerSelection);
        }

        return result;

    }

    function game() {

        let userWins = 0;
        let computerWins = 0;
        let ties = 0;
        let gamesLeft = 5;

        for (let i=0; i < 5; i++) {
            let result = singleRound();

            if (result === 0) {
                gamesLeft--;
                ties++;
                console.log('It\'s a tie! The score is ' + userWins + ' - wins for you, to ' + computerWins + ' - computer wins. There are ' + gamesLeft + ' games left.');
            }

            else if (result === 1) {
                gamesLeft--;
                userWins++;
                console.log('You win! The score is ' + userWins + ' - wins for you, to ' + computerWins + ' - computer wins. There are ' + gamesLeft + ' games left.')
            }

            else {
                gamesLeft--;
                computerWins++;
                console.log('You lose. The score is ' + userWins + ' - wins for you, to ' + computerWins + ' - computer wins. There are ' + gamesLeft + ' games left.')
            }
        }

        if (userWins > computerWins){
            console.log('You win! The final score is ' + userWins + ' - ' + computerWins + '. There were ' + ties + ' ties.');
        }

        else if (computerWins > userWins){
            console.log('You lose. The final score is ' + userWins + ' - ' + computerWins + '. There were ' + ties + ' ties.');
        }

        else {
            console.log('You tied! The final score is ' + userWins + ' - ' + computerWins + '. There were ' + ties + ' ties.');
        }
    }
</script>
</html>