<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="buttons">
        <button class="rock">Rock</button>
        <button class="paper">Paper</button>
        <button class="scissors">Scissors</button>
    </div>
    <div class="result"></div>
</body>

<script>
    const buttons = document.querySelectorAll('button');

    const winner = document.querySelector('.result');
    


    function computerPlay() {
        const choices = ['rock', 'paper', 'scissors'];
        let randomArrayPlace = Math.floor((Math.random() * choices.length));
        return choices[randomArrayPlace];
    }

    function singleRound(computerSelection, userSelection) {
        let result; //value of 0 is a tie, value of 1 is user win, and value of 2 is computer win

        
        computerSelection = computerPlay();
        

        userSelection = this.classList.value; //user selection will come from the class of the button pressed

        function userWins(computerSelection) {
            winner.textContent = 'You win! Computer selected ' + computerSelection;}

        function userLoss(computerSelection) {
            winner.textContent = "You lose bruh. Computer selected " + computerSelection;}
            
        function tie(computerSelection) {
            winner.textContent = "It\'s a tie. Computer selected " + computerSelection;}

        if (userSelection === 'rock') {

        
            if (computerSelection === 'rock') {
                tie(computerSelection);
                result = 0
            }

            else if (computerSelection === 'paper') {
                userLoss(computerSelection);
                result = 2;
            }

            else {
                userWins(computerSelection);
                result = 1
            }
            console.log('computer selected ' + computerSelection);
            
        }

        else if (userSelection === 'paper') {
            if (computerSelection === 'rock') {
                userWins(computerSelection);
                result = 1;
            }

            else if (computerSelection === 'paper') {
                tie(computerSelection);
                result = 0;
            }

            else {
                userLoss(computerSelection)
                result = 2;
            }
            console.log('computer selected ' + computerSelection);
        }

        else {                         //scissors case
            if (computerSelection === 'paper') {
                userWins(computerSelection);
                result = 1;
            }

            else if (computerSelection === 'scissors') {
                tie(computerSelection);
                result = 0;
            }

            else {
                userLoss(computerSelection);
                result = 2;
            }

            console.log('computer selected ' + computerSelection);
        }

        return result;

    }

    // function logText(e) {
    //     console.log(this.classList.value);
    // }

    buttons.forEach(button => button.addEventListener('click',singleRound));

    // function game() {

    //     let userWins = 0;
    //     let computerWins = 0;
    //     let ties = 0;
    //     let gamesLeft = 5;

    //     for (let i=0; i < 5; i++) {
    //         let result = singleRound();

    //         if (result === 0) {
    //             gamesLeft--;
    //             ties++;
    //             console.log('It\'s a tie! The score is ' + userWins + ' - wins for you, to ' + computerWins + ' - computer wins. There are ' + gamesLeft + ' games left.');
    //         }

    //         else if (result === 1) {
    //             gamesLeft--;
    //             userWins++;
    //             console.log('You win! The score is ' + userWins + ' - wins for you, to ' + computerWins + ' - computer wins. There are ' + gamesLeft + ' games left.')
    //         }

    //         else {
    //             gamesLeft--;
    //             computerWins++;
    //             console.log('You lose. The score is ' + userWins + ' - wins for you, to ' + computerWins + ' - computer wins. There are ' + gamesLeft + ' games left.')
    //         }
    //     }

    //     if (userWins > computerWins){
    //         console.log('You win! The final score is ' + userWins + ' - ' + computerWins + '. There were ' + ties + ' ties.');
    //     }

    //     else if (computerWins > userWins){
    //         console.log('You lose. The final score is ' + userWins + ' - ' + computerWins + '. There were ' + ties + ' ties.');
    //     }

    //     else {
    //         console.log('You tied! The final score is ' + userWins + ' - ' + computerWins + '. There were ' + ties + ' ties.');
    //     }
    // }
</script>
</html>